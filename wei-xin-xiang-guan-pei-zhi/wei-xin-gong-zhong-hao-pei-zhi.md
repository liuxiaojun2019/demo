# 微信公众号配置

>第一步、登录Niushop开源商城系统后台，微信菜单->微信推广->微信公众号设置，对公众号进行配置。注意：微信公众号必须是在微信公众平台已经申请认证完成的服务号，需花费300元认证费用。

![](/assets/找到微信公众号设置.png)

![](/assets/微信公众号配置页面.png)

>第二步、设置微信公众号的APPID和APP密钥。

登录微信公众平台，点击  开发->基本配置，可以看到公众号开发信息，开发者ID（AppID）和开发者密码（AppSecret）就是我们要找的微信公众号的APPID和APP密钥。

![](/assets/微信公众号开发者信息配置.png)

注意：设置完成微信公众号的APPID和APP密钥，必须添加IP白名单（系统所在服务器IP地址）才能使用。

![](/assets/白名单配置.png)

>第三步、服务器配置，设置URL和TOKEN。URL：将后台系统默认的URL复制到公众号服务器地址（URL）处。Token：Token必须为英文或数字，长度为3-32字符。默认为“TOKEN”。注意：商城后台和公众号Token必须一致。EncodingAESKey（消息加密密钥）随机生成即可。消息加解密方式选择明文模式。设置完成之后，一定要启用。

![](/assets/服务器配置.png)

>第四步、设置业务域名/JS接口安全域名/网页授权域名，点击公众号设置->功能设置->业务域名/JS接口安全域名/网页授权域名，将后台默认域名填写一次即可。

![](/assets/功能设置.png)

注意：在设置业务域名/JS接口安全域名/网页授权域名时，要将微信提供的文件上传的服务器商城系统的根目录，否则无法设置域名。

![](/assets/业务域名.png)

>第五步、验证微信公众号是否配置成功。在微信菜单->找到粉丝列表，一键更新粉丝列表，获取微信公众号用户成功，则配置成功。

![](/assets/获取粉丝列表.png)













